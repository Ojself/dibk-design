import{r as m,e as G,j as t,f as b}from"./iframe-BWm-Rgin.js";import{a as H}from"./asterisk-1FdKgIIn.js";import{C as J}from"./CheckBoxList--dVM3m9J.js";import{C as K}from"./CheckBoxListItem-DaM8-xUT.js";import{E as P}from"./ErrorMessage-CUBWA2ol.js";import{L}from"./Label-DX2rxQXz.js";const Q="_select_vw2qd_1",U="_requiredSymbol_vw2qd_1",X="_selectContainer_vw2qd_8",Y="_small_vw2qd_11",Z="_selectListArrow_vw2qd_11",ee="_multipleSelectDropdown_vw2qd_50",le="_multipleSelectElement_vw2qd_60",te="_hasErrors_vw2qd_115",r={select:Q,requiredSymbol:U,selectContainer:X,small:Y,selectListArrow:Z,multipleSelectDropdown:ee,multipleSelectElement:le,hasErrors:te},N=a=>{const{id:s,name:A="",required:g=!1,disabled:q=!1,options:o=[],width:u,label:x="",contentOnly:D=!1,keyAsContent:R=!1,placeholder:f="",placeholderValue:O="",defaultContent:V="",role:F,"aria-describedby":M,hasErrors:p=!1,errorMessage:_="",size:y="medium"}=a,[w,C]=m.useState(!1),h=m.useRef(null),I=m.useCallback(e=>{e&&G(e)},[]),S=()=>C(!1);m.useEffect(()=>{const e=n=>{n.key==="Escape"&&S()},l=n=>{h.current&&!h.current.contains(n.target)&&S()};return document.addEventListener("mousedown",l),document.addEventListener("keydown",e),()=>{document.removeEventListener("mousedown",l),document.removeEventListener("keydown",e)}},[]);const d=e=>typeof e=="object"?{key:e.key,value:e.value}:{key:e,value:e},E=e=>{const l=o.map(d).find(n=>n.value===e||n.key===e);return l?l.key??l.value:e},j=e=>Array.isArray(e)?e:e==null?[]:[e],c=()=>a.value!==void 0?j(a.value):a.defaultValue!==void 0?j(a.defaultValue):[],B=()=>{const e=c();return e.length===0?f||V||"":e.map(E).join(", ")},z=e=>{const l=c(),i=l.includes(e)?l.filter(v=>v!==e):[...l,e];a.multiple&&a.onChange(i)},T=()=>{const e=c();return o.map(l=>{const{key:n,value:i}=d(l),v=e.includes(i),W=`${s}-${String(i)}`;return t.jsx(K,{id:W,value:i,checked:v,onChange:()=>z(i),children:n},String(i))})},k=()=>`${s}-errorMessage`;if(D){const e=c(),l=e.length===0?V:R?e.map(E).join(", "):e.join(", ");return t.jsxs("div",{className:r.select,children:[t.jsx(L,{htmlFor:s,children:x}),t.jsx("span",{children:l})]})}const $=e=>{const l=o.map(d).find(n=>String(n.value)===e);return l?l.value:e};return t.jsxs("div",{className:r.select,children:[t.jsxs(L,{htmlFor:s,children:[x,g&&t.jsx("img",{src:H,alt:"",className:r.requiredSymbol})]}),t.jsxs("div",{className:b([r.selectContainer,y==="small"&&r.small]),style:u?{maxWidth:u}:void 0,children:[t.jsx("span",{className:r.selectListArrow}),a.multiple?t.jsxs("div",{ref:h,children:[t.jsx("button",{type:"button",id:s,"aria-haspopup":"listbox","aria-expanded":w,onClick:()=>C(e=>!e),className:b([r.multipleSelectElement,y==="small"&&r.small]),disabled:q,children:B()}),w&&t.jsx("div",{ref:I,className:r.multipleSelectDropdown,role:"listbox","aria-multiselectable":"true","aria-labelledby":s,children:t.jsx(J,{compact:!0,children:T()})})]}):t.jsxs("select",{name:A,required:g,disabled:q,onChange:e=>a.onChange($(e.target.value)),id:s,role:F,className:b([p&&r.hasErrors,y==="small"&&r.small]),"aria-describedby":p&&_?k():M,"aria-invalid":p||void 0,style:u?{maxWidth:u}:void 0,...a.value!==void 0?{value:a.value}:a.defaultValue!==void 0?{defaultValue:a.defaultValue}:{},children:[f&&t.jsx("option",{value:O,disabled:!0,children:f}),o.map(e=>{const{key:l,value:n}=d(e);return t.jsx("option",{value:String(n),children:l},String(n))})]})]}),t.jsx(P,{id:k(),content:_})]})};try{N.displayName="Select",N.__docgenInfo={description:"",displayName:"Select",props:{multiple:{defaultValue:null,description:"",name:"multiple",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"((value: string | number) => void) | ((value: (string | number)[]) => void)"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string | number | (string | number)[]"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string | number | (string | number)[]"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"Option[]"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"React.ReactNode"}},contentOnly:{defaultValue:null,description:"",name:"contentOnly",required:!1,type:{name:"boolean"}},keyAsContent:{defaultValue:null,description:"",name:"keyAsContent",required:!1,type:{name:"boolean"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},placeholderValue:{defaultValue:null,description:"",name:"placeholderValue",required:!1,type:{name:"string"}},defaultContent:{defaultValue:null,description:"",name:"defaultContent",required:!1,type:{name:"string"}},role:{defaultValue:null,description:"",name:"role",required:!1,type:{name:"string"}},"aria-describedby":{defaultValue:null,description:"",name:"aria-describedby",required:!1,type:{name:"string"}},hasErrors:{defaultValue:null,description:"",name:"hasErrors",required:!1,type:{name:"boolean"}},errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"React.ReactNode"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"medium"'}]}}}}}catch{}export{N as S};
