import{r as n,b as R,d as g,j as e}from"./iframe-WYyUpwoz.js";import{B as k}from"./Button-C5fOTAE2.js";import{r as E}from"./index-DpICLqMm.js";import{S as j}from"./arrow-right-icon-Dk5Nb9P9.js";import{H as I}from"./Header-DyLd6vyI.js";import"./preload-helper-PPVm8Dsz.js";import"./index-B2qvscIh.js";const N="_dialog_5ucig_23",P="_backdrop_5ucig_38",H="_backdropTransparent_5ucig_49",B="_dialogContainer_5ucig_52",L="_modalInVertical_5ucig_1",V="_dialogContent_5ucig_64",T="_dialogHeader_5ucig_71",q="_dialogBody_5ucig_81",z="_noPadding_5ucig_87",O="_isSidebar_5ucig_90",A="_left_5ucig_109",F="_modalInHorizontalLeft_5ucig_1",W="_right_5ucig_115",G="_modalInHorizontalRight_5ucig_1",o={dialog:N,backdrop:P,backdropTransparent:H,dialogContainer:B,modalInVertical:L,dialogContent:V,dialogHeader:T,dialogBody:q,noPadding:z,isSidebar:O,left:A,modalInHorizontalLeft:F,right:W,modalInHorizontalRight:G},p=({maxWidth:f="none",noPadding:d,title:i,onClickOutside:a,modal:c=!0,attachTo:_,hidden:r=!1,children:v})=>{const[h,y]=n.useState(null),C=n.useRef(null),x=n.useCallback(t=>{t&&R(t)},[]);n.useEffect(()=>{if(r)return;const t=l=>{l.key==="Escape"&&a&&a()};return document.addEventListener("keydown",t,!1),()=>{document.removeEventListener("keydown",t,!1)}},[r,a]),n.useEffect(()=>{if(typeof window>"u")return;const l=(()=>{const b="dibk-design-dialog-root";let s=document.getElementById(b);return s||(s=document.createElement("div"),s.setAttribute("id",b),document.body.appendChild(s)),s})(),u=document.createElement("div");return l.appendChild(u),y(u),()=>{y(null),l.contains(u)&&l.removeChild(u)}},[]),n.useEffect(()=>{if(r||!c)return;const t=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=t}},[r,c]);const D=_&&g([o.isSidebar,o[_]]),w={"--max-width":f};if(r||!h)return null;const S=c?{role:"dialog","aria-modal":"true"}:{role:"dialog"};return E.createPortal(e.jsxs("div",{className:g([o.dialog,D]),...S,children:[e.jsx("button",{type:"button",className:g([o.backdrop,!c&&o.backdropTransparent]),onClick:a,"aria-label":"Lukk dialog"}),e.jsx("div",{ref:C,className:o.dialogContainer,style:w,children:e.jsxs("div",{ref:x,className:g([o.dialogContent,d&&o.noPadding]),children:[i&&e.jsxs("div",{className:o.dialogHeader,children:[typeof i=="string"?e.jsx(I,{size:2,children:i}):i,e.jsx(k,{color:"neutral","aria-label":"Lukk dialog",onClick:a,iconRight:e.jsx(j,{}),children:"Lukk"})]}),e.jsx("div",{className:o.dialogBody,"aria-live":"assertive",children:v})]})})]}),h)};try{p.displayName="Dialog",p.__docgenInfo={description:"",displayName:"Dialog",props:{maxWidth:{defaultValue:{value:"none"},description:"",name:"maxWidth",required:!1,type:{name:"string"}},noPadding:{defaultValue:null,description:"",name:"noPadding",required:!1,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"ReactNode"}},onClickOutside:{defaultValue:null,description:"",name:"onClickOutside",required:!0,type:{name:"() => void"}},modal:{defaultValue:{value:"true"},description:"",name:"modal",required:!1,type:{name:"boolean"}},attachTo:{defaultValue:null,description:"",name:"attachTo",required:!1,type:{name:"string"}},hidden:{defaultValue:{value:"false"},description:"",name:"hidden",required:!1,type:{name:"boolean"}}}}}catch{}const Z={title:"Primitives/Dialog",component:p,tags:["autodocs"],argTypes:{attachTo:{control:"select",options:["None","Left","Right"],mapping:{None:null,Left:"left",Right:"right"}}}},m={args:{title:"Dialog title",modal:!0,onClickOutside:()=>{}},render:function(d){const[i,a]=n.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx(k,{onClick:()=>a(!0),children:"Show dialog"}),e.jsx(p,{...d,hidden:!i,onClickOutside:()=>{a(!1),d.onClickOutside()},children:e.jsx("p",{children:"Dialog paragraph"})})]})}};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:`{
  args: {
    title: "Dialog title",
    modal: true,
    onClickOutside: () => {}
  },
  render: function Render(args) {
    const [showDialog, setShowDialog] = useState<boolean>(false);
    return <>
        <Button onClick={() => setShowDialog(true)}>Show dialog</Button>
        <Dialog {...args} hidden={!showDialog} onClickOutside={() => {
        setShowDialog(false);
        (args.onClickOutside as () => void)();
      }}>
          <p>Dialog paragraph</p>
        </Dialog>
      </>;
  }
}`,...m.parameters?.docs?.source}}};const $=["Default"];export{m as Default,$ as __namedExportsOrder,Z as default};
