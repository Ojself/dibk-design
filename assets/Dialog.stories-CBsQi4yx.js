import{r as n,a as j,c as u,j as e}from"./iframe-D-wun3FS.js";import{B as b}from"./Button-BEwnHnlq.js";import{r as E}from"./index-D7cIzlbd.js";import{H as S}from"./Header-B5NtHmmg.js";import"./preload-helper-PPVm8Dsz.js";import"./index-CkGu_gum.js";const R="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='25'%20height='25'%3e%3cpath%20fill='%23072938'%20stroke='%23072938'%20stroke-linecap='round'%20stroke-width='3.23'%20d='m3.97%203.57%2017.44%2018.2m-17.44.01L21.41%203.57'/%3e%3c/svg%3e",N="_dialog_tgq37_19",I="_backdrop_tgq37_34",H="_backdropTransparent_tgq37_45",P="_dialogContainer_tgq37_48",L="_modalInVertical_tgq37_1",B="_dialogContent_tgq37_60",V="_dialogHeader_tgq37_67",T="_dialogBody_tgq37_77",z="_noPadding_tgq37_81",O="_isSidebar_tgq37_84",F="_left_tgq37_102",A="_modalInHorizontalLeft_tgq37_1",W="_right_tgq37_108",G="_modalInHorizontalRight_tgq37_1",t={dialog:N,backdrop:I,backdropTransparent:H,dialogContainer:P,modalInVertical:L,dialogContent:B,dialogHeader:V,dialogBody:T,noPadding:z,isSidebar:O,left:F,modalInHorizontalLeft:A,right:W,modalInHorizontalRight:G},p=({maxWidth:f="none",noPadding:d,title:r,onClickOutside:o,modal:c=!0,attachTo:_,hidden:l=!1,children:v})=>{const[h,y]=n.useState(null),x=n.useRef(null),w=n.useCallback(a=>{a&&j(a)},[]);n.useEffect(()=>{if(l)return;const a=i=>{i.key==="Escape"&&o&&o()};return document.addEventListener("keydown",a,!1),()=>{document.removeEventListener("keydown",a,!1)}},[l,o]),n.useEffect(()=>{if(typeof window>"u")return;const i=(()=>{const k="dibk-design-dialog-root";let s=document.getElementById(k);return s||(s=document.createElement("div"),s.setAttribute("id",k),document.body.appendChild(s)),s})(),g=document.createElement("div");return i.appendChild(g),y(g),()=>{y(null),i.contains(g)&&i.removeChild(g)}},[]),n.useEffect(()=>{if(l||!c)return;const a=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=a}},[l,c]);const C=_&&u([t.isSidebar,t[_]]),q={"--max-width":f};if(l||!h)return null;const D=c?{role:"dialog","aria-modal":"true"}:{role:"dialog"};return E.createPortal(e.jsxs("div",{className:u([t.dialog,C]),...D,children:[e.jsx("button",{type:"button",className:u([t.backdrop,!c&&t.backdropTransparent]),onClick:o,"aria-label":"Lukk dialog"}),e.jsx("div",{ref:x,className:t.dialogContainer,style:q,children:e.jsxs("div",{ref:w,className:u([t.dialogContent,d&&t.noPadding]),children:[r&&e.jsxs("div",{className:t.dialogHeader,children:[r?e.jsx(S,{size:2,children:r}):e.jsx("span",{}),e.jsx(b,{color:"neutral","aria-label":"Lukk dialog",onClick:o,iconRight:e.jsx("img",{src:R,alt:""}),children:"Lukk"})]}),e.jsx("div",{className:t.dialogBody,"aria-live":"assertive",children:v})]})})]}),h)};try{p.displayName="Dialog",p.__docgenInfo={description:"",displayName:"Dialog",props:{maxWidth:{defaultValue:{value:"none"},description:"",name:"maxWidth",required:!1,type:{name:"string"}},noPadding:{defaultValue:null,description:"",name:"noPadding",required:!1,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"ReactNode"}},onClickOutside:{defaultValue:null,description:"",name:"onClickOutside",required:!0,type:{name:"() => void"}},modal:{defaultValue:{value:"true"},description:"",name:"modal",required:!1,type:{name:"boolean"}},attachTo:{defaultValue:null,description:"",name:"attachTo",required:!1,type:{name:"string"}},hidden:{defaultValue:{value:"false"},description:"",name:"hidden",required:!1,type:{name:"boolean"}}}}}catch{}const Y={title:"Example/Dialog",component:p,tags:["autodocs"],argTypes:{attachTo:{control:"select",options:["None","Left","Right"],mapping:{None:null,Left:"left",Right:"right"}}}},m={args:{title:"Dialog title",children:e.jsx(e.Fragment,{children:e.jsx("p",{children:"Dialog paragraph"})}),modal:!0,onClickOutside:()=>{}},render:function(d){const[r,o]=n.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx(b,{onClick:()=>o(!0),children:"Show dialog"}),e.jsx(p,{...d,hidden:!r,onClickOutside:()=>{o(!1),d.onClickOutside()}})]})}};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:`{
  args: {
    title: "Dialog title",
    children: <>
        <p>Dialog paragraph</p>
      </>,
    modal: true,
    onClickOutside: () => {}
  },
  render: function Render(args) {
    const [showDialog, setShowDialog] = useState<boolean>(false);
    return <>
        <Button onClick={() => setShowDialog(true)}>Show dialog</Button>
        <Dialog {...args} hidden={!showDialog} onClickOutside={() => {
        setShowDialog(false);
        (args.onClickOutside as () => void)();
      }} />
      </>;
  }
}`,...m.parameters?.docs?.source}}};const Z=["Default"];export{m as Default,Z as __namedExportsOrder,Y as default};
