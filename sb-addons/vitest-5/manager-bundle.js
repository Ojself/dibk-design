try{
(()=>{var Pe="storybook/interactions",B=`${Pe}/panel`,Le="writing-tests/integrations/vitest-addon",Bt=`${Le}#what-happens-when-there-are-different-test-results-in-multiple-environments`,h="storybook/a11y",U=`${h}/panel`,Ut=`${h}/ui`,Mt=`${h}/result`,jt=`${h}/request`,$t=`${h}/running`,Ht=`${h}/error`,Ft=`${h}/manual`,Gt=`${h}/select`,Ne="writing-tests/accessibility-testing",Kt=`${Ne}#why-are-my-tests-failing-in-different-environments`,v="storybook/test",q=`${v}/test-provider`,Z=`${v}/channel`,xe="writing-tests/integrations/vitest-addon",Q=`${xe}#what-happens-if-vitest-itself-has-an-error`,M={id:v,initialState:{config:{coverage:!1,a11y:!1},watching:!1,cancelling:!1,fatalError:void 0,indexUrl:void 0,previewAnnotations:[],currentRun:{triggeredBy:void 0,config:{coverage:!1,a11y:!1},componentTestCount:{success:0,error:0},a11yCount:{success:0,warning:0,error:0},storyIds:void 0,totalTestCount:void 0,startedAt:void 0,finishedAt:void 0,unhandledErrors:[],coverageSummary:void 0}}},J=["global","run-all"],Wt=`UNIVERSAL_STORE:${M.id}`,j="storybook/component-test",$="storybook/a11y";var o=__REACT__,{Children:Zt,Component:Qt,Fragment:Jt,Profiler:Xt,PureComponent:eo,StrictMode:to,Suspense:oo,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:no,act:ro,cloneElement:ao,createContext:lo,createElement:so,createFactory:io,createRef:co,forwardRef:uo,isValidElement:mo,lazy:go,memo:Io,startTransition:po,unstable_act:fo,useCallback:H,useContext:X,useDebugValue:_o,useDeferredValue:ho,useEffect:P,useId:To,useImperativeHandle:bo,useInsertionEffect:Eo,useLayoutEffect:So,useMemo:ee,useReducer:yo,useRef:te,useState:C,useSyncExternalStore:vo,useTransition:Co,version:Ao}=__REACT__;var Po=__STORYBOOK_TYPES__,{Addon_TypesEnum:oe,CoreWebpackCompiler:Lo,Feature:No,SupportedBuilder:ne,SupportedFramework:xo,SupportedLanguage:Do,SupportedRenderer:Bo}=__STORYBOOK_TYPES__;var Ho=__STORYBOOK_API__,{ActiveTabs:Fo,Consumer:Go,ManagerContext:Ko,Provider:Wo,RequestResponseError:Yo,Tag:re,addons:w,combineParameters:zo,controlOrMetaKey:Vo,controlOrMetaSymbol:qo,eventMatchesShortcut:Zo,eventToShortcut:Qo,experimental_MockUniversalStore:Jo,experimental_UniversalStore:ae,experimental_getStatusStore:F,experimental_getTestProviderStore:le,experimental_requestResponse:Xo,experimental_useStatusStore:G,experimental_useTestProviderStore:se,experimental_useUniversalStore:ie,internal_checklistStore:en,internal_fullStatusStore:tn,internal_fullTestProviderStore:on,internal_universalChecklistStore:nn,internal_universalStatusStore:rn,internal_universalTestProviderStore:an,isMacLike:ln,isShortcutTaken:sn,keyToSymbol:cn,merge:un,mockChannel:dn,optionOrAltSymbol:mn,shortcutMatchesShortcut:gn,shortcutToAriaKeyshortcuts:In,shortcutToHumanString:pn,types:fn,useAddonState:_n,useArgTypes:hn,useArgs:Tn,useChannel:bn,useGlobalTypes:En,useGlobals:Sn,useParameter:yn,useSharedState:vn,useStoryPrepared:Cn,useStorybookApi:ce,useStorybookState:An}=__STORYBOOK_API__;var Pn=__STORYBOOK_COMPONENTS__,{A:Ln,AbstractToolbar:Nn,ActionBar:xn,ActionList:g,AddonPanel:Dn,Badge:Bn,Bar:Un,Blockquote:Mn,Button:A,Card:jn,ClipboardCode:$n,Code:Hn,Collapsible:Fn,DL:Gn,Div:Kn,DocumentWrapper:Wn,EmptyTabContent:Yn,ErrorFormatter:zn,FlexBar:Vn,Form:L,H1:qn,H2:Zn,H3:Qn,H4:Jn,H5:Xn,H6:er,HR:tr,IconButton:or,Img:nr,LI:rr,Link:K,ListItem:ar,Loader:lr,Modal:N,ModalDecorator:sr,OL:ir,P:cr,Placeholder:ur,Popover:dr,PopoverProvider:mr,Pre:gr,ProgressSpinner:ue,ResetWrapper:Ir,ScrollArea:pr,Select:fr,Separator:_r,Spaced:hr,Span:Tr,StatelessTab:br,StatelessTabList:Er,StatelessTabPanel:Sr,StatelessTabsView:yr,StorybookIcon:vr,StorybookLogo:Cr,SyntaxHighlighter:Ar,TT:Or,TabBar:wr,TabButton:Rr,TabList:kr,TabPanel:Pr,TabWrapper:Lr,Table:Nr,Tabs:xr,TabsState:Dr,TabsView:Br,ToggleButton:de,Toolbar:Ur,Tooltip:Mr,TooltipLinkList:jr,TooltipMessage:$r,TooltipNote:Hr,TooltipProvider:Fr,UL:Gr,WithTooltip:Kr,WithTooltipPure:Wr,Zoom:Yr,codeCommon:zr,components:Vr,convertToReactAriaPlacement:qr,createCopyToClipboardFunction:Zr,getStoryHref:Qr,interleaveSeparators:Jr,nameSpaceClassNames:Xr,resetComponents:ea,useTabsState:ta,withReset:oa}=__STORYBOOK_COMPONENTS__;var sa=__STORYBOOK_ICONS__,{AccessibilityAltIcon:ia,AccessibilityIcon:ca,AccessibilityIgnoredIcon:ua,AddIcon:da,AdminIcon:ma,AlertAltIcon:ga,AlertIcon:Ia,AlignLeftIcon:pa,AlignRightIcon:fa,AppleIcon:_a,ArrowBottomLeftIcon:ha,ArrowBottomRightIcon:Ta,ArrowDownIcon:ba,ArrowLeftIcon:Ea,ArrowRightIcon:Sa,ArrowSolidDownIcon:ya,ArrowSolidLeftIcon:va,ArrowSolidRightIcon:Ca,ArrowSolidUpIcon:Aa,ArrowTopLeftIcon:Oa,ArrowTopRightIcon:wa,ArrowUpIcon:Ra,AzureDevOpsIcon:ka,BackIcon:Pa,BasketIcon:La,BatchAcceptIcon:Na,BatchDenyIcon:xa,BeakerIcon:Da,BellIcon:Ba,BitbucketIcon:Ua,BoldIcon:Ma,BookIcon:ja,BookmarkHollowIcon:$a,BookmarkIcon:Ha,BottomBarIcon:Fa,BottomBarToggleIcon:Ga,BoxIcon:Ka,BranchIcon:Wa,BrowserIcon:Ya,BugIcon:za,ButtonIcon:Va,CPUIcon:qa,CalendarIcon:Za,CameraIcon:Qa,CameraStabilizeIcon:Ja,CategoryIcon:Xa,CertificateIcon:el,ChangedIcon:tl,ChatIcon:ol,CheckIcon:nl,ChevronDownIcon:rl,ChevronLeftIcon:al,ChevronRightIcon:ll,ChevronSmallDownIcon:sl,ChevronSmallLeftIcon:il,ChevronSmallRightIcon:cl,ChevronSmallUpIcon:ul,ChevronUpIcon:dl,ChromaticIcon:ml,ChromeIcon:gl,CircleHollowIcon:Il,CircleIcon:pl,ClearIcon:fl,CloseAltIcon:_l,CloseIcon:hl,CloudHollowIcon:Tl,CloudIcon:bl,CogIcon:El,CollapseIcon:Sl,CommandIcon:yl,CommentAddIcon:vl,CommentIcon:Cl,CommentsIcon:Al,CommitIcon:Ol,CompassIcon:wl,ComponentDrivenIcon:Rl,ComponentIcon:kl,ContrastIcon:Pl,ContrastIgnoredIcon:Ll,ControlsIcon:Nl,CopyIcon:xl,CreditIcon:Dl,CrossIcon:Bl,DashboardIcon:Ul,DatabaseIcon:Ml,DeleteIcon:jl,DiamondIcon:$l,DirectionIcon:Hl,DiscordIcon:Fl,DocChartIcon:Gl,DocListIcon:Kl,DocumentIcon:Wl,DownloadIcon:Yl,DragIcon:zl,EditIcon:Vl,EditorIcon:ql,EllipsisIcon:Zl,EmailIcon:Ql,ExpandAltIcon:Jl,ExpandIcon:Xl,EyeCloseIcon:es,EyeIcon:me,FaceHappyIcon:ts,FaceNeutralIcon:os,FaceSadIcon:ns,FacebookIcon:rs,FailedIcon:as,FastForwardIcon:ls,FigmaIcon:ss,FilterIcon:is,FlagIcon:cs,FolderIcon:us,FormIcon:ds,GDriveIcon:ms,GiftIcon:gs,GithubIcon:Is,GitlabIcon:ps,GlobeIcon:fs,GoogleIcon:_s,GraphBarIcon:hs,GraphLineIcon:Ts,GraphqlIcon:bs,GridAltIcon:Es,GridIcon:Ss,GrowIcon:ys,HeartHollowIcon:vs,HeartIcon:Cs,HomeIcon:As,HourglassIcon:Os,InfoIcon:ge,ItalicIcon:ws,JumpToIcon:Rs,KeyIcon:ks,LightningIcon:Ps,LightningOffIcon:Ls,LinkBrokenIcon:Ns,LinkIcon:xs,LinkedinIcon:Ds,LinuxIcon:Bs,ListOrderedIcon:Us,ListUnorderedIcon:Ms,LocationIcon:js,LockIcon:$s,MarkdownIcon:Hs,MarkupIcon:Fs,MediumIcon:Gs,MemoryIcon:Ks,MenuIcon:Ws,MergeIcon:Ys,MirrorIcon:zs,MobileIcon:Vs,MoonIcon:qs,NutIcon:Zs,OutboxIcon:Qs,OutlineIcon:Js,PaintBrushAltIcon:Xs,PaintBrushIcon:ei,PaperClipIcon:ti,ParagraphIcon:oi,PassedIcon:ni,PhoneIcon:ri,PhotoDragIcon:ai,PhotoIcon:li,PhotoStabilizeIcon:si,PinAltIcon:ii,PinIcon:ci,PlayAllHollowIcon:ui,PlayBackIcon:di,PlayHollowIcon:Ie,PlayIcon:mi,PlayNextIcon:gi,PlusIcon:Ii,PointerDefaultIcon:pi,PointerHandIcon:fi,PowerIcon:_i,PrintIcon:hi,ProceedIcon:Ti,ProfileIcon:bi,PullRequestIcon:Ei,QuestionIcon:Si,RSSIcon:yi,RedirectIcon:vi,ReduxIcon:Ci,RefreshIcon:Ai,ReplyIcon:Oi,RepoIcon:wi,RequestChangeIcon:Ri,RewindIcon:ki,RulerIcon:Pi,SaveIcon:Li,SearchIcon:Ni,ShareAltIcon:xi,ShareIcon:Di,ShieldIcon:Bi,SideBySideIcon:Ui,SidebarAltIcon:Mi,SidebarAltToggleIcon:ji,SidebarIcon:$i,SidebarToggleIcon:Hi,SortDownIcon:Fi,SortUpIcon:Gi,SpeakerIcon:Ki,StackedIcon:Wi,StarHollowIcon:Yi,StarIcon:zi,StatusFailIcon:Vi,StatusIcon:qi,StatusPassIcon:Zi,StatusWarnIcon:Qi,StickerIcon:Ji,StopAltHollowIcon:Xi,StopAltIcon:pe,StopIcon:ec,StorybookIcon:tc,StructureIcon:oc,SubtractIcon:nc,SunIcon:rc,SupportIcon:ac,SweepIcon:lc,SwitchAltIcon:sc,SyncIcon:fe,TabletIcon:ic,ThumbsUpIcon:cc,TimeIcon:uc,TimerIcon:dc,TransferIcon:mc,TrashIcon:gc,TwitterIcon:Ic,TypeIcon:pc,UbuntuIcon:fc,UndoIcon:_c,UnfoldIcon:hc,UnlockIcon:Tc,UnpinIcon:bc,UploadIcon:Ec,UserAddIcon:Sc,UserAltIcon:yc,UserIcon:vc,UsersIcon:Cc,VSCodeIcon:Ac,VerifiedIcon:Oc,VideoIcon:wc,WandIcon:Rc,WatchIcon:kc,WindowsIcon:Pc,WrenchIcon:Lc,XIcon:Nc,YoutubeIcon:xc,ZoomIcon:Dc,ZoomOutIcon:Bc,ZoomResetIcon:Uc,iconList:Mc}=__STORYBOOK_ICONS__;var Gc=__STORYBOOK_THEMING__,{CacheProvider:Kc,ClassNames:Wc,Global:Yc,ThemeProvider:zc,background:Vc,color:qc,convert:Zc,create:Qc,createCache:Jc,createGlobal:Xc,createReset:eu,css:tu,darken:ou,ensure:nu,getPreferredColorScheme:ru,ignoreSsrWarning:au,isPropValid:lu,jsx:su,keyframes:iu,lighten:cu,styled:I,themes:uu,tokens:du,typography:mu,useTheme:gu,withTheme:Iu}=__STORYBOOK_THEMING__;var T=ae.create({...M,leader:globalThis.CONFIG_TYPE==="PRODUCTION"}),De=F(j),Be=F($),ve=le(v),Ue=I.div({display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px 6px 6px 20px"}),Me=I.div({display:"flex",justifyContent:"space-between",alignItems:"center"}),je=I(N.Title)(({theme:{typography:e}})=>({fontSize:e.size.s2,fontWeight:e.weight.bold})),$e=I.pre(({theme:e})=>({whiteSpace:"pre-wrap",wordWrap:"break-word",overflow:"auto",maxHeight:"60vh",margin:0,padding:"20px",fontFamily:e.typography.fonts.mono,fontSize:"12px",borderTop:`1px solid ${e.appBorderColor}`,borderRadius:0})),He=I.a(({theme:e})=>({color:e.color.defaultText})),z=o.createContext({isModalOpen:!1,setModalOpen:void 0});function Y({error:e}){return e?o.createElement("div",null,o.createElement("h4",null,"Caused by: ",e.name||"Error",": ",e.message),e.stack&&o.createElement("pre",null,e.stack),e.cause&&o.createElement(Y,{error:e.cause})):null}function Fe({onRerun:e,storeState:t}){let n=ce(),{isModalOpen:s,setModalOpen:c}=X(z),r=n.getDocsUrl({subpath:Q,versioned:!0,renderer:!0}),{fatalError:a,currentRun:{unhandledErrors:d}}=t,i=a?o.createElement(o.Fragment,null,o.createElement("p",null,a.error.name||"Error"),a.message&&o.createElement("p",null,a.message),a.error.message&&o.createElement("p",null,a.error.message),a.error.stack&&o.createElement("p",null,a.error.stack),a.error.cause&&o.createElement(Y,{error:a.error.cause})):d.length>0?o.createElement("ol",null,d.map(l=>o.createElement("li",{key:l.name+l.message},o.createElement("p",null,l.name,": ",l.message),l.VITEST_TEST_PATH&&o.createElement("p",null,'This error originated in "',o.createElement("b",null,l.VITEST_TEST_PATH),`". It doesn't mean the error was thrown inside the file itself, but while it was running.`),l.VITEST_TEST_NAME&&o.createElement(o.Fragment,null,o.createElement("p",null,`The latest test that might've caused the error is "`,o.createElement("b",null,l.VITEST_TEST_NAME),'". It might mean one of the following:'),o.createElement("ul",null,o.createElement("li",null,"The error was thrown, while Vitest was running this test."),o.createElement("li",null,"If the error occurred after the test had been completed, this was the last documented test before it was thrown."))),l.stacks&&o.createElement(o.Fragment,null,o.createElement("p",null,o.createElement("b",null,"Stacks:")),o.createElement("ul",null,l.stacks.map(u=>o.createElement("li",{key:u.file+u.line+u.column},u.file,":",u.line,":",u.column," - ",u.method||"unknown method")))),l.stack&&o.createElement("p",null,l.stack),l.cause?o.createElement(Y,{error:l.cause}):null))):null;return o.createElement(N,{ariaLabel:"Storybook Tests error details",onOpenChange:c,open:s},o.createElement(Ue,null,o.createElement(je,null,"Storybook Tests error details"),o.createElement(Me,null,o.createElement(A,{onClick:e,variant:"ghost",ariaLabel:!1},o.createElement(fe,null),"Rerun"),o.createElement(A,{variant:"ghost",ariaLabel:!1,asChild:!0},o.createElement("a",{target:"_blank",href:r,rel:"noreferrer"},"Troubleshoot")),o.createElement(N.Close,null))),o.createElement($e,null,i,o.createElement("br",null),o.createElement("br",null),"Troubleshoot:"," ",o.createElement(He,{target:"_blank",href:r},r)))}function _e(e){if(!e||typeof e!="object")return!1;let t=Object.getPrototypeOf(e);return t===null||t===Object.prototype||Object.getPrototypeOf(t)===null?Object.prototype.toString.call(e)==="[object Object]":!1}function he(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function Te(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var Ge="[object RegExp]",Ke="[object String]",We="[object Number]",Ye="[object Boolean]",be="[object Arguments]",ze="[object Symbol]",Ve="[object Date]",qe="[object Map]",Ze="[object Set]",Qe="[object Array]",Je="[object Function]",Xe="[object ArrayBuffer]",W="[object Object]",et="[object Error]",tt="[object DataView]",ot="[object Uint8Array]",nt="[object Uint8ClampedArray]",rt="[object Uint16Array]",at="[object Uint32Array]",lt="[object BigUint64Array]",st="[object Int8Array]",it="[object Int16Array]",ct="[object Int32Array]",ut="[object BigInt64Array]",dt="[object Float32Array]",mt="[object Float64Array]";function gt(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}function It(e,t,n){return R(e,t,void 0,void 0,void 0,void 0,n)}function R(e,t,n,s,c,r,a){let d=a(e,t,n,s,c,r);if(d!==void 0)return d;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return e===t;case"number":return e===t||Object.is(e,t);case"function":return e===t;case"object":return k(e,t,r,a)}return k(e,t,r,a)}function k(e,t,n,s){if(Object.is(e,t))return!0;let c=Te(e),r=Te(t);if(c===be&&(c=W),r===be&&(r=W),c!==r)return!1;switch(c){case Ke:return e.toString()===t.toString();case We:{let i=e.valueOf(),l=t.valueOf();return gt(i,l)}case Ye:case Ve:case ze:return Object.is(e.valueOf(),t.valueOf());case Ge:return e.source===t.source&&e.flags===t.flags;case Je:return e===t}n=n??new Map;let a=n.get(e),d=n.get(t);if(a!=null&&d!=null)return a===t;n.set(e,t),n.set(t,e);try{switch(c){case qe:{if(e.size!==t.size)return!1;for(let[i,l]of e.entries())if(!t.has(i)||!R(l,t.get(i),i,e,t,n,s))return!1;return!0}case Ze:{if(e.size!==t.size)return!1;let i=Array.from(e.values()),l=Array.from(t.values());for(let u=0;u<i.length;u++){let p=i[u],m=l.findIndex(f=>R(p,f,void 0,e,t,n,s));if(m===-1)return!1;l.splice(m,1)}return!0}case Qe:case ot:case nt:case rt:case at:case lt:case st:case it:case ct:case ut:case dt:case mt:{if(typeof Buffer<"u"&&Buffer.isBuffer(e)!==Buffer.isBuffer(t)||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!R(e[i],t[i],i,e,t,n,s))return!1;return!0}case Xe:return e.byteLength!==t.byteLength?!1:k(new Uint8Array(e),new Uint8Array(t),n,s);case tt:return e.byteLength!==t.byteLength||e.byteOffset!==t.byteOffset?!1:k(new Uint8Array(e),new Uint8Array(t),n,s);case et:return e.name===t.name&&e.message===t.message;case W:{if(!(k(e.constructor,t.constructor,n,s)||_e(e)&&_e(t)))return!1;let i=[...Object.keys(e),...he(e)],l=[...Object.keys(t),...he(t)];if(i.length!==l.length)return!1;for(let u=0;u<i.length;u++){let p=i[u],m=e[p];if(!Object.hasOwn(t,p))return!1;let f=t[p];if(!R(m,f,p,e,t,n,s))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}function pt(){}function ft(e,t){return It(e,t,pt)}var Ee=(e,t,n)=>{let s={"status-value:pending":[],"status-value:success":[],"status-value:error":[],"status-value:warning":[],"status-value:unknown":[]};return(n?n.map(c=>e[c]).filter(Boolean):Object.values(e)).forEach(c=>{let r=c[t];r&&s[r.value].push(r.storyId)}),s},Ce=(e,t)=>{let n=se(f=>f[v]),[s,c]=ie(T),[r,a]=C(!1),d=te();P(()=>{let f=T.onStateChange((O,D)=>{ft(O.config,D.config)||(ve.settingsChanged(),a(!0),clearTimeout(d.current),d.current=setTimeout(()=>{a(!1)},1e3))});return()=>{f(),clearTimeout(d.current)}},[]);let i=ee(()=>t?e.findAllLeafStoryIds(t):void 0,[t,e]),l=H(f=>Ee(f,j,i),[i]),u=G(l),p=H(f=>Ee(f,$,i),[i]),m=G(p);return{storeState:s,setStoreState:c,testProviderState:n,componentTestStatusValueToStoryIds:u,a11yStatusValueToStoryIds:m,isSettingsUpdated:r}},_t=({timestamp:e})=>{let[t,n]=C(null);if(P(()=>{if(e){n(Date.now()-e);let d=setInterval(()=>n(Date.now()-e),1e4);return()=>clearInterval(d)}},[e]),t===null)return null;let s=Math.round(t/1e3);if(s<60)return"just now";let c=Math.floor(s/60);if(c<60)return c===1?"a minute ago":`${c} minutes ago`;let r=Math.floor(c/60);if(r<24)return r===1?"an hour ago":`${r} hours ago`;let a=Math.floor(r/24);return a===1?"yesterday":`${a} days ago`},ht=I.div(({theme:e})=>({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",fontSize:e.typography.size.s1,color:e.textMutedColor})),Tt=I.span(({theme:e})=>({color:e.color.positiveText}));function bt({entryId:e,storeState:t,testProviderState:n,isSettingsUpdated:s,...c}){let{setModalOpen:r}=o.useContext(z),{componentTestCount:a,totalTestCount:d,unhandledErrors:i,finishedAt:l}=t.currentRun,u=a.success+a.error,p="Not run";if(!e&&s)p=o.createElement(Tt,null,"Settings updated");else if(n==="test-provider-state:running")p=(u??0)===0?"Starting...":`Testing... ${u}/${d}`;else if(!e&&n==="test-provider-state:crashed")p=r?o.createElement(K,{isButton:!0,onClick:()=>r(!0)},"View full error"):"Crashed";else if(!e&&i.length>0){let m=`View ${i.length} unhandled error${i?.length>1?"s":""}`;p=r?o.createElement(K,{isButton:!0,onClick:()=>r(!0)},m):m}else e&&d?p=`Ran ${d} ${d===1?"test":"tests"}`:l?p=o.createElement(o.Fragment,null,"Ran ",d," ",d===1?"test":"tests"," ",o.createElement(_t,{timestamp:l})):t.watching&&(p="Watching for file changes");return o.createElement(ht,{...c},p)}var x=I.div(({percentage:e})=>({width:e?12:6,height:e?12:6,margin:e?1:4,background:e?`conic-gradient(var(--status-color) ${e}%, var(--status-background) ${e+1}%)`:"var(--status-color)",borderRadius:"50%"}),({isRunning:e,theme:t})=>e&&{animation:`${t.animation.glow} 1.5s ease-in-out infinite`},({status:e,theme:t})=>e==="positive"&&{"--status-color":t.color.positive,"--status-background":`${t.color.positive}66`},({status:e,theme:t})=>e==="warning"&&{"--status-color":t.color.gold,"--status-background":`${t.color.gold}66`},({status:e,theme:t})=>e==="negative"&&{"--status-color":t.color.negative,"--status-background":`${t.color.negative}66`},({status:e,theme:t})=>e==="critical"&&{"--status-color":t.color.defaultText,"--status-background":`${t.color.defaultText}66`},({status:e,theme:t})=>e==="unknown"&&{"--status-color":t.textMutedColor,"--status-background":`${t.textMutedColor}66`}),Et=I.div(({inContextMenu:e})=>({display:"flex",flexDirection:"column",paddingBottom:e?0:1})),St=I.div({display:"flex",justifyContent:"space-between",padding:"8px 0",gap:12}),yt=I.div({display:"flex",flexDirection:"column",marginLeft:8,minWidth:0}),Se=I.div(({crashed:e,theme:t})=>({fontSize:t.typography.size.s1,fontWeight:e?"bold":"normal",color:e?t.color.negativeText:t.color.defaultText})),vt=I.div({display:"flex",gap:4}),Ct=I(g)({padding:0}),At=I.span(({theme:e})=>({color:e.textMutedColor})),Ot=I(ue)({margin:4}),wt=I(pe)({width:10}),ye=({api:e,panelId:t,entryId:n})=>{let s=n?e.findAllLeafStoryIds(n)[0]:void 0;s&&e.selectStory(s),e.setSelectedPanel(t),e.togglePanel(!0)},Ae=({api:e,entry:t,testProviderState:n,storeState:s,setStoreState:c,componentTestStatusValueToStoryIds:r,a11yStatusValueToStoryIds:a,isSettingsUpdated:d,...i})=>{let{config:l,watching:u,cancelling:p,currentRun:m,fatalError:f}=s,O=m.componentTestCount.success+m.componentTestCount.error,D=w.experimental_getRegisteredAddons().includes(h),_=n==="test-provider-state:running",Oe=_&&O===0,[we,V]=f?["critical","Component tests crashed"]:r["status-value:error"].length>0?["negative","Component tests failed"]:_?["unknown","Testing in progress"]:r["status-value:success"].length>0?["positive","Component tests passed"]:["unknown","Run tests to see results"],[Re,ke]=f?["critical","Component tests crashed"]:a["status-value:error"].length>0?["negative","Accessibility tests failed"]:a["status-value:warning"].length>0?["warning","Accessibility tests failed"]:_?["unknown","Testing in progress"]:a["status-value:success"].length>0?["positive","Accessibility tests passed"]:["unknown","Run tests to see accessibility results"];return o.createElement(Et,{...i,inContextMenu:!!t},o.createElement(St,null,o.createElement(yt,null,t?o.createElement(Se,{id:"testing-module-title"},"Run component tests"):o.createElement(Se,{id:"testing-module-title",crashed:n==="test-provider-state:crashed"||f!==void 0||m.unhandledErrors.length>0},m.unhandledErrors.length===1?"Component tests completed with an error":m.unhandledErrors.length>1?"Component tests completed with errors":f?"Component tests didn\u2019t complete":"Run component tests"),o.createElement(bt,{id:"testing-module-description",storeState:s,testProviderState:n,entryId:t?.id,isSettingsUpdated:d})),o.createElement(vt,null,!t&&o.createElement(de,{ariaLabel:_?"Watch mode (cannot toggle while running)":"Watch mode",tooltip:_?"Watch mode unavailable while running":`Watch mode is ${u?"enabled":"disabled"}`,padding:"small",size:"medium",variant:"ghost",pressed:u,onClick:()=>T.send({type:"TOGGLE_WATCHING",payload:{to:!u}}),disabled:_},o.createElement(me,null)),_?o.createElement(A,{ariaLabel:p?"Stop test run (already stopping...)":"Stop test run",padding:"none",size:"medium",variant:"ghost",onClick:()=>T.send({type:"CANCEL_RUN"}),disabled:p||Oe},o.createElement(Ot,{percentage:O&&s.currentRun.totalTestCount?O/s.currentRun.totalTestCount*100:void 0},o.createElement(wt,null))):o.createElement(A,{ariaLabel:"Start test run",padding:"small",size:"medium",variant:"ghost",onClick:()=>{let b;t&&(b=t.type==="story"?[t.id]:e.findAllLeafStoryIds(t.id)),T.send({type:"TRIGGER_RUN",payload:{storyIds:b,triggeredBy:t?.type??"global"}})}},o.createElement(Ie,null)))),o.createElement(Ct,null,o.createElement(g.Item,null,t?o.createElement(g.Text,null,"Interactions"):o.createElement(g.Action,{as:"label",readOnly:!0},o.createElement(g.Icon,null,o.createElement(L.Checkbox,{name:"Interactions",checked:!0,disabled:!0})),o.createElement(g.Text,null,"Interactions")),o.createElement(g.Button,{ariaLabel:`${V}${r["status-value:error"].length+r["status-value:warning"].length>0?` (${r["status-value:error"].length+r["status-value:warning"].length} errors or warnings so far)`:""}`,tooltip:V,disabled:r["status-value:error"].length===0&&r["status-value:warning"].length===0&&r["status-value:success"].length===0,onClick:()=>{ye({api:e,panelId:B,entryId:r["status-value:error"][0]??r["status-value:warning"][0]??r["status-value:success"][0]??t?.id})}},r["status-value:error"].length+r["status-value:warning"].length||null,o.createElement(x,{status:we,isRunning:_}))),!t&&o.createElement(g.Item,null,o.createElement(g.Action,{as:"label",readOnly:_,ariaLabel:!1},o.createElement(g.Icon,null,o.createElement(L.Checkbox,{name:"Coverage",checked:l.coverage,disabled:_,onChange:()=>c(b=>({...b,config:{...b.config,coverage:!l.coverage}}))})),o.createElement(g.Text,null,u?o.createElement(At,null,"Coverage (unavailable)"):"Coverage")),u||m.triggeredBy&&!J.includes(m.triggeredBy)?o.createElement(g.Button,{disabled:!0,ariaLabel:u?"Coverage unavailable in watch mode":"Coverage only available after running all tests"},o.createElement(ge,null)):m.coverageSummary?o.createElement(g.Button,{asChild:!0,ariaLabel:_?"Open coverage report (testing still in progress)":`Open coverage report (${m.coverageSummary.percentage}% coverage)`},o.createElement("a",{href:"/coverage/index.html",target:"_blank"},m.coverageSummary.percentage,"%",o.createElement(x,{isRunning:_,percentage:m.coverageSummary.percentage,status:m.coverageSummary.status}))):o.createElement(g.Button,{disabled:!0,ariaLabel:_?"Coverage unavailable, testing still in progress":f?"Coverage unavailable, component tests crashed":"Coverage unavailable, run tests first"},o.createElement(x,{isRunning:_,status:f?"critical":"unknown"}))),D&&o.createElement(g.Item,null,t?o.createElement(g.Text,null,"Accessibility"):o.createElement(g.Action,{as:"label",readOnly:_,ariaLabel:!1},o.createElement(g.Icon,null,o.createElement(L.Checkbox,{name:"Accessibility",checked:l.a11y,disabled:_,onChange:()=>c(b=>({...b,config:{...b.config,a11y:!l.a11y}}))})),o.createElement(g.Text,null,"Accessibility")),o.createElement(g.Button,{ariaLabel:ke,disabled:a["status-value:error"].length===0&&a["status-value:warning"].length===0&&a["status-value:success"].length===0,onClick:()=>{ye({api:e,entryId:a["status-value:error"][0]??a["status-value:warning"][0]??a["status-value:success"][0]??t?.id,panelId:U})}},a["status-value:error"].length+a["status-value:warning"].length||null,o.createElement(x,{status:Re,isRunning:_})))))},Rt=({context:e,api:t})=>{let{testProviderState:n,componentTestStatusValueToStoryIds:s,a11yStatusValueToStoryIds:c,storeState:r,setStoreState:a}=Ce(t,e.id);return o.createElement(Ae,{api:t,entry:e,style:{minWidth:240},testProviderState:n,componentTestStatusValueToStoryIds:s,a11yStatusValueToStoryIds:c,storeState:r,setStoreState:a,isSettingsUpdated:!1})};w.register(v,e=>{if(globalThis.STORYBOOK_BUILDER===ne.VITE){let t=n=>{e.setSelectedPanel(n),e.togglePanel(!0)};De.onSelect(()=>{t(B)}),Be.onSelect(()=>{t(U)}),ve.onRunAll(()=>{T.send({type:"TRIGGER_RUN",payload:{triggeredBy:"run-all"}})}),T.untilReady().then(()=>{T.setState(n=>({...n,indexUrl:new URL("index.json",window.location.href).toString()})),T.subscribe("TEST_RUN_COMPLETED",({payload:n})=>{e.emit(Z,{type:"test-run-completed",payload:n})})}),w.add(q,{type:oe.experimental_TEST_PROVIDER,render:()=>{let[n,s]=C(!1),{storeState:c,setStoreState:r,testProviderState:a,componentTestStatusValueToStoryIds:d,a11yStatusValueToStoryIds:i,isSettingsUpdated:l}=Ce(e);return o.createElement(z.Provider,{value:{isModalOpen:n,setModalOpen:s}},o.createElement(Ae,{api:e,storeState:c,setStoreState:r,isSettingsUpdated:l,testProviderState:a,componentTestStatusValueToStoryIds:d,a11yStatusValueToStoryIds:i}),o.createElement(Fe,{storeState:c,onRerun:()=>{s(!1),T.send({type:"TRIGGER_RUN",payload:{triggeredBy:"global"}})}}))},sidebarContextMenu:({context:n})=>n.type==="docs"||n.type==="story"&&!n.tags.includes(re.TEST)?null:o.createElement(Rt,{context:n,api:e})})}});})();
}catch(e){ console.error("[Storybook] One of your manager-entries failed: " + import.meta.url, e); }
